<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>01_corpus_compilation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="01_corpus_compilation_files/libs/clipboard/clipboard.min.js"></script>
<script src="01_corpus_compilation_files/libs/quarto-html/quarto.js"></script>
<script src="01_corpus_compilation_files/libs/quarto-html/popper.min.js"></script>
<script src="01_corpus_compilation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01_corpus_compilation_files/libs/quarto-html/anchor.min.js"></script>
<link href="01_corpus_compilation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01_corpus_compilation_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01_corpus_compilation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01_corpus_compilation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01_corpus_compilation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="01_corpus_compilation_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="01_corpus_compilation_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">01_corpus_compilation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="corpus-compilation" class="level1">
<h1>Corpus compilation</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library(udpipe)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stylo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
### stylo version: 0.7.4 ###

If you plan to cite this software (please do!), use the following reference:
    Eder, M., Rybicki, J. and Kestemont, M. (2016). Stylometry with R:
    a package for computational text analysis. R Journal 8(1): 107-121.
    &lt;https://journal.r-project.org/archive/2016/RJ-2016-007/index.html&gt;

To get full BibTeX entry, type: citation("stylo")</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(seetrees)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'

The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="raw-files" class="level2">
<h2 class="anchored" data-anchor-id="raw-files">raw files</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a filelist</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>lf <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"../corpus/"</span>, <span class="at">full.names =</span> T)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># head(lf)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># read texts and put them in a tibble</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">path =</span> lf,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="fu">sapply</span>(path, read_file)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="retrieve-metadata" class="level3">
<h3 class="anchored" data-anchor-id="retrieve-metadata">retrieve metadata</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># extract metadata from the textfiles</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">author =</span> <span class="fu">str_extract</span>(text,<span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nAutor : .*? Auteur du texte"</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">author =</span> <span class="fu">str_remove_all</span>(author, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nAutor : |</span><span class="sc">\\</span><span class="st">. Auteur du texte"</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nTitel : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="fu">str_remove_all</span>(title, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nTitel : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n$"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">publisher =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nVerleger : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">publisher =</span> <span class="fu">str_remove_all</span>(publisher, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nVerleger : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n$"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Erscheinungsdatum : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">str_remove_all</span>(year, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Erscheinungsdatum : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n$"</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Typ : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="fu">str_remove_all</span>(type, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Typ : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n$"</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">format =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Format : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">format =</span> <span class="fu">str_remove_all</span>(format, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">Format : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n$"</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">link_gallica =</span> <span class="fu">str_extract</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nIdentificativo : .*?</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">link_gallica =</span> <span class="fu">str_remove_all</span>(link_gallica, <span class="st">"</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">nIdentificativo : |</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>),</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>         <span class="at">link_gallica =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(link_gallica), <span class="fu">paste0</span>(<span class="st">"http://catalogue.bnf.fr/"</span>, link_gallica), link_gallica)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ocr_acc =</span> <span class="fu">str_extract</span>(text, <span class="st">"Die Erkennungsquote liegt für dieses Dokument bei .*?</span><span class="sc">\\</span><span class="st">."</span>),</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">ocr_acc =</span> <span class="fu">str_remove_all</span>(ocr_acc, <span class="st">"Die Erkennungsquote liegt für dieses Dokument bei |%|</span><span class="sc">\\</span><span class="st">."</span>)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># separate metadata from texts</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(text, <span class="at">sep =</span> <span class="st">"Die Erkennungsquote liegt für dieses Dokument bei"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove metadata</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(text, <span class="st">"^Ihre Anfrage"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># some cleaning</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text, <span class="st">"^.*?</span><span class="sc">\\</span><span class="st">%</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">n</span><span class="sc">\\</span><span class="st">n"</span>))</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="store-ad-rda-meta" class="level3">
<h3 class="anchored" data-anchor-id="store-ad-rda-meta">store ad rda &amp; meta</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save(df, file = "../data/corpus_0709.rda")</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(df %&gt;% select(-text), file = "../metadata.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="load-data" class="level2">
<h2 class="anchored" data-anchor-id="load-data">load data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../metadata.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/corpus_0709.rda"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>texts <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">select</span>(path, text)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(meta)</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(texts)</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> meta <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(texts, <span class="at">by =</span> <span class="st">"path"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(corpus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 37
Columns: 10
$ path         &lt;chr&gt; "../../corpus//Baudeau_1763_Idées d'un citoyen sur le com…
$ author       &lt;chr&gt; "Baudeau, Nicolas (1730-1792?)", "Baudeau, Nicolas (1730-…
$ title        &lt;chr&gt; "Idées d'un citoyen sur la puissance du Roi et le commerc…
$ publisher    &lt;chr&gt; "[s.n.] (Amsterdam)", "Delalain (Paris)", NA, NA, "Londre…
$ year         &lt;chr&gt; "1763", "1776", "1787", "1787", "1787", "1780", "1786", "…
$ type         &lt;chr&gt; "monographie imprimée", "monographie imprimée", "monograp…
$ format       &lt;chr&gt; "40 p. ; in-8", "In-8° , 172 p.", "61 p. [Acq. 3063-66] ;…
$ link_gallica &lt;chr&gt; "http://catalogue.bnf.fr/ark:/12148/bpt6k96159466", "http…
$ ocr_acc      &lt;int&gt; 95, 100, 95, 85, 86, 100, 98, 99, 99, 86, 84, 83, 100, 71…
$ text         &lt;chr&gt; "1 D É E S\n\n\" D' U N\n\nCITOYEN\n\nSUR LA PUISSANCE DU…</code></pre>
</div>
</div>
</section>
</section>
<section id="statistics" class="level1">
<h1>Statistics</h1>
<section id="tokenisation" class="level3">
<h3 class="anchored" data-anchor-id="tokenisation">Tokenisation</h3>
<section id="words" class="level4">
<h4 class="anchored" data-anchor-id="words">Words</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tokens <span class="ot">&lt;-</span> corpus <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># tokenisation</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">input =</span> text,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">output =</span> word,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">"words"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove 1-char length tokens</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">nchar</span>(word) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove digits </span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>))</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># tokens %&gt;% </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   count(word, sort = T) %&gt;% head(10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Most frequent words distribution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    word     n
1     de 76373
2     la 43251
3    les 37331
4     le 31816
5    des 27881
6    que 22508
7    qui 19154
8     en 15489
9   dans 14032
10    il 13794
11    du 12889
12    ne 12810
13    un 12511
14  pour 11838
15    ce 10538
16   par  9981
17  plus  9919
18   une  9771
19    on  8496
20   pas  7556
21    au  7472
22   est  6864
23 cette  6653
24    se  6091
25   ces  6049
26    je  5756
27  leur  5365
28  vous  5127
29  font  5056
30  mais  4973
31    ou  4923
32  tout  4477
33  nous  4310
34 qu'il  4290
35  même  4263
36   aux  4223
37   lui  3933
38  avec  3918
39  tous  3786
40   ils  3737
41   sur  3651
42  elle  3618
43    si  3387
44   fur  3362
45  peut  3314
46 point  3304
47 comme  3230
48   son  3107
49  fait  3062
50   eft  3033</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">2000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">g =</span> <span class="fu">ifelse</span>(n <span class="sc">&lt;</span> <span class="dv">200</span>, <span class="st">"red"</span>, <span class="st">"gray"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder_within</span>(word, <span class="sc">-</span>n, word), <span class="at">y =</span> n, <span class="at">fill =</span> g)) <span class="sc">+</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reordered</span>() <span class="sc">+</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of words"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Word rank"</span>) <span class="sc">+</span> </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"None"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="words-by-each-author" class="level4">
<h4 class="anchored" data-anchor-id="words-by-each-author">Words by each author</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(author, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> <span class="fu">kbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">author</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mercier, Louis-Sébastien (1740-1814)</td>
<td style="text-align: right;">349575</td>
</tr>
<tr class="even">
<td style="text-align: left;">Necker, Jacques (1732-1804)</td>
<td style="text-align: right;">176947</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hébert (17..-18..? ; auteur d'un "Almanach parisien")</td>
<td style="text-align: right;">152514</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lemercier de la Rivière, Paul-Pierre (1719-1801)</td>
<td style="text-align: right;">142957</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brissot de Warville, Jacques-Pierre (1754-1793)</td>
<td style="text-align: right;">117568</td>
</tr>
<tr class="even">
<td style="text-align: left;">Linguet, Simon-Nicolas-Henri (1736-1794)</td>
<td style="text-align: right;">97261</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Goudar, Ange (1708-1791?)</td>
<td style="text-align: right;">93770</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brissot de Warville, Jacques-Pierre</td>
<td style="text-align: right;">50301</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sieyès, Emmanuel-Joseph (1748-1836)</td>
<td style="text-align: right;">40305</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dupont de Nemours, Pierre-Samuel (1739-1817)</td>
<td style="text-align: right;">38386</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jèze (17..-17.. ; avocat)</td>
<td style="text-align: right;">37116</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">33831</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Condorcet, Jean-Antoine-Nicolas de Caritat marquis de (1743-1794)</td>
<td style="text-align: right;">33395</td>
</tr>
<tr class="even">
<td style="text-align: left;">Baudeau, Nicolas (1730-1792?)</td>
<td style="text-align: right;">27931</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Beaumarchais, Pierre-Augustin Caron de (1732-1799)</td>
<td style="text-align: right;">11273</td>
</tr>
<tr class="even">
<td style="text-align: left;">Choderlos de Laclos, Pierre-Ambroise-François (1741-1803); Sieyès, Emmanuel-Joseph (1748-1836)</td>
<td style="text-align: right;">10496</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Choderlos de Laclos, Pierre-Ambroise-François (1741-1803)</td>
<td style="text-align: right;">8178</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bergasse, Nicolas (1750-1832)</td>
<td style="text-align: right;">1675</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(tokens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,423,479
Columns: 10
$ path         &lt;chr&gt; "../../corpus//Baudeau_1763_Idées d'un citoyen sur le com…
$ author       &lt;chr&gt; "Baudeau, Nicolas (1730-1792?)", "Baudeau, Nicolas (1730-…
$ title        &lt;chr&gt; "Idées d'un citoyen sur la puissance du Roi et le commerc…
$ publisher    &lt;chr&gt; "[s.n.] (Amsterdam)", "[s.n.] (Amsterdam)", "[s.n.] (Amst…
$ year         &lt;chr&gt; "1763", "1763", "1763", "1763", "1763", "1763", "1763", "…
$ type         &lt;chr&gt; "monographie imprimée", "monographie imprimée", "monograp…
$ format       &lt;chr&gt; "40 p. ; in-8", "40 p. ; in-8", "40 p. ; in-8", "40 p. ; …
$ link_gallica &lt;chr&gt; "http://catalogue.bnf.fr/ark:/12148/bpt6k96159466", "http…
$ ocr_acc      &lt;int&gt; 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 9…
$ word         &lt;chr&gt; "citoyen", "sur", "la", "puissance", "du", "roi", "et", "…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>corpus_cln <span class="ot">&lt;-</span> tokens <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(path) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">paste</span>(word, <span class="at">collapse =</span> <span class="st">" "</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>word) <span class="sc">%&gt;%</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">path_new =</span> <span class="fu">str_replace</span>(path, <span class="st">"</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">./corpus/"</span>, <span class="st">"corpus_cln/"</span>))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(corpus_cln)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [37 × 11] (S3: tbl_df/tbl/data.frame)
 $ path        : chr [1:37] "../../corpus//Baudeau_1763_Idées d'un citoyen sur le commerce dans l'Orient.txt" "../../corpus//Baudeau_1776_Explication du Tableau économique.txt" "../../corpus//Beaumarchais_1787_Mémoire en réponse au libelle signé Kornmann.txt" "../../corpus//Bergasse_1787_Observations de Bergasse sur un écrit de Beaumarchais.txt" ...
 $ author      : chr [1:37] "Baudeau, Nicolas (1730-1792?)" "Baudeau, Nicolas (1730-1792?)" "Beaumarchais, Pierre-Augustin Caron de (1732-1799)" "Bergasse, Nicolas (1750-1832)" ...
 $ title       : chr [1:37] "Idées d'un citoyen sur la puissance du Roi et le commerce de la nation dans l'Orient" "Explication du Tableau économique, à Madame de***, par M. l'abbé Baudeau" "Mémoire de Pierre-Augustin Caron de Beaumarchais ; en réponse au libelle diffamatoire, signé, Guillaume Kornman"| __truncated__ "Observations de M. de Bergasse, sur un écrit de M. de Beaumarchais." ...
 $ publisher   : chr [1:37] "[s.n.] (Amsterdam)" "Delalain (Paris)" NA NA ...
 $ year        : chr [1:37] "1763" "1776" "1787" "1787" ...
 $ type        : chr [1:37] "monographie imprimée" "monographie imprimée" "monographie imprimée" "monographie imprimée" ...
 $ format      : chr [1:37] "40 p. ; in-8" "In-8° , 172 p." "61 p. [Acq. 3063-66] ; n-16 (18 cm)" "7 p. ; in-4" ...
 $ link_gallica: chr [1:37] "http://catalogue.bnf.fr/ark:/12148/bpt6k96159466" "http://catalogue.bnf.fr/ark:/12148/bpt6k6470796d" "http://catalogue.bnf.fr/ark:/12148/bpt6k97634363" "http://catalogue.bnf.fr/ark:/12148/bpt6k30470426" ...
 $ ocr_acc     : int [1:37] 95 100 95 85 86 100 98 99 99 86 ...
 $ text        : chr [1:37] "citoyen sur la puissance du roi et le commerce de la nation dans l'orient nos onsilium dedimus amsterdam dcc lx"| __truncated__ "explication du tableau économique explication du tableau économique madame de par l'abbé au au extrait des ephé"| __truncated__ "memoire de pierre augustin caron de beaumarchais rèponse au libelle diffamatoire signé guillaume kornman dont p"| __truncated__ "observations de mo de berg as se sur un écrit de de beaumarchais j’ai auffi quelques obfervations faire fur réc"| __truncated__ ...
 $ path_new    : chr [1:37] "../corpus_cln//Baudeau_1763_Idées d'un citoyen sur le commerce dans l'Orient.txt" "../corpus_cln//Baudeau_1776_Explication du Tableau économique.txt" "../corpus_cln//Beaumarchais_1787_Mémoire en réponse au libelle signé Kornmann.txt" "../corpus_cln//Bergasse_1787_Observations de Bergasse sur un écrit de Beaumarchais.txt" ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for (i in 1:nrow(corpus_cln)) {</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   write_file(x = corpus_cln$text[i], file = corpus_cln$path_new[i])</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="load-cleaned-data" class="level3">
<h3 class="anchored" data-anchor-id="load-cleaned-data">Load cleaned data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../metadata.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>lf <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"../corpus_cln/"</span>, <span class="at">full.names =</span> T)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># read texts and put them in a tibble</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">path =</span> lf,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="fu">sapply</span>(path, read_file)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> meta <span class="sc">%&gt;%</span> </span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">path =</span> <span class="fu">str_replace_all</span>(path, <span class="st">"</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">./corpus/"</span>, <span class="st">"corpus_cln/"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(df, <span class="at">by =</span> <span class="st">"path"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(corpus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 37
Columns: 10
$ path         &lt;chr&gt; "../corpus_cln//Baudeau_1763_Idées d'un citoyen sur le co…
$ author       &lt;chr&gt; "Baudeau, Nicolas (1730-1792?)", "Baudeau, Nicolas (1730-…
$ title        &lt;chr&gt; "Idées d'un citoyen sur la puissance du Roi et le commerc…
$ publisher    &lt;chr&gt; "[s.n.] (Amsterdam)", "Delalain (Paris)", NA, NA, "Londre…
$ year         &lt;chr&gt; "1763", "1776", "1787", "1787", "1787", "1780", "1786", "…
$ type         &lt;chr&gt; "monographie imprimée", "monographie imprimée", "monograp…
$ format       &lt;chr&gt; "40 p. ; in-8", "In-8° , 172 p.", "61 p. [Acq. 3063-66] ;…
$ link_gallica &lt;chr&gt; "http://catalogue.bnf.fr/ark:/12148/bpt6k96159466", "http…
$ ocr_acc      &lt;int&gt; 95, 100, 95, 85, 86, 100, 98, 99, 99, 86, 84, 83, 100, 71…
$ text         &lt;chr&gt; "citoyen sur la puissance du roi et le commerce de la nat…</code></pre>
</div>
</div>
<p>Number of tokens in each text</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>corpus <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">input =</span> text, <span class="at">output =</span> word, <span class="at">token =</span> <span class="st">"words"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(path, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> <span class="fu">kbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Outer names are only allowed for unnamed scalar atomic inputs</code></pre>
</div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">path</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Hébert_1789-1790_Almanach parisien.txt</td>
<td style="text-align: right;">152514</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Lemercier-de-la-Rivière_1767_L'ordre naturel.txt</td>
<td style="text-align: right;">142957</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Brissot et Clavière_1787_De la France et des États-Unis.txt</td>
<td style="text-align: right;">88186</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Mercier_1771_L'an 2440.txt</td>
<td style="text-align: right;">85553</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Necker_1784_De l'administration de la France.txt</td>
<td style="text-align: right;">72851</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Mercier_1781_t2-Tableau de Paris.txt</td>
<td style="text-align: right;">60954</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Necker_1775_Sur la législation et le commerce des grains.txt</td>
<td style="text-align: right;">60594</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Mercier_1768_Songes philosophiques.txt</td>
<td style="text-align: right;">60233</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon.txt</td>
<td style="text-align: right;">58019</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Goudar_1757_L'histoire des Grecs.txt</td>
<td style="text-align: right;">54085</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Brissot_1786_Examen critique des voyages de Chastellux.txt</td>
<td style="text-align: right;">50301</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Mercier_1782-1788_Tableau Paris - 2e ed t 2.txt</td>
<td style="text-align: right;">49630</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Mercier_1782-1788_Tableau Paris - 2e ed t 1.txt</td>
<td style="text-align: right;">46681</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Mercier_1783_t1-Tableau de Paris.txt</td>
<td style="text-align: right;">46524</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Linguet_1783_Mémoires sur la Bastille.txt</td>
<td style="text-align: right;">39242</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//DupontdeNemours_1769_Commerce des Indes.txt</td>
<td style="text-align: right;">38386</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Jeze_1759_Tableau de Paris pour l'année.txt</td>
<td style="text-align: right;">37116</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Indicateur-parisien_1767.txt</td>
<td style="text-align: right;">33831</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Goudar_1757_La paix de l'Europe.txt</td>
<td style="text-align: right;">32750</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Necker_1781_Compte-rendu au roi.txt</td>
<td style="text-align: right;">29779</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Sieyès_1789_Qu'est-ce que le Tiers-État.txt</td>
<td style="text-align: right;">26144</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Baudeau_1776_Explication du Tableau économique.txt</td>
<td style="text-align: right;">20885</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Condorcet_1781_Réflexions sur l'esclavage des nègres.txt</td>
<td style="text-align: right;">18201</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Brissot_1780_Recherches philosophiques sur le droit de propriété.txt</td>
<td style="text-align: right;">16258</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Necker_1769_Réponse à Morellet.txt</td>
<td style="text-align: right;">13723</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Brissot_1789_Plan de Municipalité.txt</td>
<td style="text-align: right;">12063</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Beaumarchais_1787_Mémoire en réponse au libelle signé Kornmann.txt</td>
<td style="text-align: right;">11273</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Laclos-et-Sieyès_1789_Instructions envoyées par le duc d'Orléans.txt</td>
<td style="text-align: right;">10496</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Laclos_1786_Lettre à l'académie sur Vauban.txt</td>
<td style="text-align: right;">8178</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Condorcet_1775_Lettre d'un labourer de Picardie.txt</td>
<td style="text-align: right;">7942</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Sieyès_1789_Préliminaire de la constitution francaise.txt</td>
<td style="text-align: right;">7498</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Condorcet_1789_Déclaration des droits.txt</td>
<td style="text-align: right;">7252</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Baudeau_1763_Idées d'un citoyen sur le commerce dans l'Orient.txt</td>
<td style="text-align: right;">7046</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Goudar_1758_Lettre à un académicien.txt</td>
<td style="text-align: right;">6935</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Sieyès_1788_Essai sur les privilèges.txt</td>
<td style="text-align: right;">6663</td>
</tr>
<tr class="even">
<td style="text-align: left;">../corpus_cln//Bergasse_1787_Observations de Bergasse sur un écrit de Beaumarchais.txt</td>
<td style="text-align: right;">1675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">../corpus_cln//Brissot_1790_Rapport sur les Juifs.txt</td>
<td style="text-align: right;">1061</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="stylo" class="level2">
<h2 class="anchored" data-anchor-id="stylo">Stylo</h2>
<p>Fast exploration</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stylo)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(seetrees)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="simple-clustering" class="level4">
<h4 class="anchored" data-anchor-id="simple-clustering">Simple clustering</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>test1 <span class="ot">&lt;-</span> <span class="fu">stylo</span>(<span class="at">gui =</span> F,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">corpus.dir =</span> <span class="st">"../corpus_test/"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">corpus.lang =</span> <span class="st">"Other"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">distance.measure =</span> <span class="st">"wurzburg"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">mfw.min =</span> <span class="dv">200</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">mfw.max =</span> <span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>using current directory...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Performing no sampling (using entire text as sample)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>slicing input text into tokens...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
turning words into features, e.g. char n-grams (if applicable)...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Total nr. of samples in the corpus: 9</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The corpus consists of 535643 tokens</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>processing  9  text samples</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>combining frequencies into a table...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>culling @ 0 available features (words) 5000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Calculating z-scores... </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MFW used: </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>200 
Processing metadata...


Assigning plot colors according to file names...

 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> <span class="fu">stylo</span>(<span class="at">gui =</span> F,</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">corpus.dir =</span> <span class="st">"../corpus_test/"</span>,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">corpus.lang =</span> <span class="st">"Other"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">distance.measure =</span> <span class="st">"wurzburg"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">mfw.min =</span> <span class="dv">200</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">mfw.max =</span> <span class="dv">200</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>               </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">analysis.type =</span> <span class="st">"MDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>using current directory...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Performing no sampling (using entire text as sample)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>slicing input text into tokens...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
turning words into features, e.g. char n-grams (if applicable)...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Total nr. of samples in the corpus: 9</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The corpus consists of 535643 tokens</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>processing  9  text samples</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>combining frequencies into a table...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>culling @ 0 available features (words) 5000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Calculating z-scores... </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MFW used: </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>200 
Processing metadata...


Assigning plot colors according to file names...

 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Function call:
stylo(gui = F, corpus.dir = "../corpus_test/", corpus.lang = "Other",      distance.measure = "wurzburg", mfw.min = 200, mfw.max = 200) 

Available variables:

           distance.table  final distances between each pair of samples
                 features  features (e.g. words, n-grams, ...) applied to data
   features.actually.used  features (e.g. frequent words) actually analyzed
    frequencies.0.culling  frequencies of words/features accross the corpus
            list.of.edges  edges of a network of stylometric similarities
     table.with.all.freqs  frequencies of words/features accross the corpus
   table.with.all.zscores  z-scored frequencies accross the corpus

These variables can be accessed by typing e.g.:

     test1$distance.table </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>test1<span class="sc">$</span>features.actually.used</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
------------------------------------------------
features (e.g. frequent words) actually analyzed 
------------------------------------------------

  [1]  de         la         le         les        l          des        
  [7]  d          qui        que        un         il         en         
 [13]  on         qu         du         dans       une        ce         
 [19]  ne         pour       est        par        n          plus       
 [25]  au         se         pas        je         s          cette      
 [31]  font       ils        vous       c          ces        lui        
 [37]  leur       mais       elle       tout       eft        ou         
 [43]  même      avec       ont        tous       aux        fur        
 [49]  deux       nous       étoit     son        si         rue        
 [55]  comme      dont       sur        fait       être      ses        
 [61]  point      avoit      j          saint      me         bien       
 [67]  où        faire      leurs      a          autres     été      
 [73]  sa         grand      homme      autre      m          peut       
 [79]  cet        y          paris      avoir      ai         toutes     
 [85]  encore     celui      roi        hommes     moins      sans       
 [91]  ceux       dit        fa         duc        mon        ni         
 [97]  quatre     tems       elles      voit       après     celle      
[103]  trois      toujours   à         grecs      là        louis      
[109]  étoient   fut        ma         nos        ii         chaque     
[115]  depuis     faut       rien       entre      aiguillon  doit       
[121]  corps      fous       jamais     dire       hôtel     eux        
[127]  nom        eu         mes        moi        ordre      quand      
[133]  place      toute      peu        notre      fans       grande     
[139]  tant       ville      aussi      ci         monde      parce      
[145]  i          très      donc       non        jour       ainsi      
[151]  quelque    droit      porte      cent       ici        voir       
[157]  nature     fe         générale ans        car        et         
[163]  fera       lieu       partie     premier    contre     fort       
[169]  nombre     votre      argent     pieds      avoient    alors      
[175]  fois       france     europe     grands     mille      peuple     
[181]  vie        or         gens       forme      livres     quelques   
[187]  te         auroit     huit       jours      t          ouvrage    
[193]  pu         état      général  chez       es         e          
[199]  hui        tes        

(total number of elements:  200)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>test1<span class="sc">$</span>table.with.all.zscores[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                         de
Brissot_1780_Recherches philosophiques sur le droit de propriété -0.4406118
Goudar_1757_L'histoire des Grecs                                 -0.9396236
Goudar_1757_La paix de l'Europe                                  -0.1860000
Hébert_1789-1790_Almanach parisien                                2.2146795
Linguet_1783_Mémoires sur la Bastille                            -0.1593528
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -0.2699844
Mercier_1771_L'an 2440                                           -0.7292652
Mercier_1782-1788_Tableau Paris - 2e ed t 2                      -0.5270092
PseudoBrissot_1789_Plan de Municipalité                           1.0371674
                                                                          la
Brissot_1780_Recherches philosophiques sur le droit de propriété  0.42623641
Goudar_1757_L'histoire des Grecs                                 -1.88455094
Goudar_1757_La paix de l'Europe                                   0.95200395
Hébert_1789-1790_Almanach parisien                                0.68108911
Linguet_1783_Mémoires sur la Bastille                            -0.35884925
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -0.82460835
Mercier_1771_L'an 2440                                           -0.43865080
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.07249359
PseudoBrissot_1789_Plan de Municipalité                           1.37483628
                                                                          le
Brissot_1780_Recherches philosophiques sur le droit de propriété -0.89969286
Goudar_1757_L'histoire des Grecs                                 -0.87214443
Goudar_1757_La paix de l'Europe                                  -1.56647613
Hébert_1789-1790_Almanach parisien                                1.40691062
Linguet_1783_Mémoires sur la Bastille                            -0.32129382
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon  0.93066201
Mercier_1771_L'an 2440                                            0.27122771
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.07726934
PseudoBrissot_1789_Plan de Municipalité                           0.97353756
                                                                         les
Brissot_1780_Recherches philosophiques sur le droit de propriété  0.88000063
Goudar_1757_L'histoire des Grecs                                 -0.84729035
Goudar_1757_La paix de l'Europe                                   1.03883032
Hébert_1789-1790_Almanach parisien                               -0.03201162
Linguet_1783_Mémoires sur la Bastille                            -0.58839473
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -1.87624949
Mercier_1771_L'an 2440                                           -0.29174610
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.89054036
PseudoBrissot_1789_Plan de Municipalité                           0.82632098
                                                                          l
Brissot_1780_Recherches philosophiques sur le droit de propriété  1.1502866
Goudar_1757_L'histoire des Grecs                                 -1.8464561
Goudar_1757_La paix de l'Europe                                  -0.4547095
Hébert_1789-1790_Almanach parisien                               -0.3630185
Linguet_1783_Mémoires sur la Bastille                             0.1844760
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -0.8616956
Mercier_1771_L'an 2440                                            0.5668371
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.3062253
PseudoBrissot_1789_Plan de Municipalité                           1.3180548
                                                                        des
Brissot_1780_Recherches philosophiques sur le droit de propriété -1.0195661
Goudar_1757_L'histoire des Grecs                                 -0.6440128
Goudar_1757_La paix de l'Europe                                   1.1315917
Hébert_1789-1790_Almanach parisien                                0.5056748
Linguet_1783_Mémoires sur la Bastille                            -0.6342460
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -1.2061871
Mercier_1771_L'an 2440                                           -0.1855348
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.3147963
PseudoBrissot_1789_Plan de Municipalité                           1.7374840
                                                                            d
Brissot_1780_Recherches philosophiques sur le droit de propriété -1.053691896
Goudar_1757_L'histoire des Grecs                                  0.003132832
Goudar_1757_La paix de l'Europe                                   0.112454364
Hébert_1789-1790_Almanach parisien                               -0.243466802
Linguet_1783_Mémoires sur la Bastille                             0.250379151
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon  2.350318525
Mercier_1771_L'an 2440                                           -0.183983699
Mercier_1782-1788_Tableau Paris - 2e ed t 2                      -0.151483181
PseudoBrissot_1789_Plan de Municipalité                          -1.083659293
                                                                         qui
Brissot_1780_Recherches philosophiques sur le droit de propriété  0.04404255
Goudar_1757_L'histoire des Grecs                                  0.12801331
Goudar_1757_La paix de l'Europe                                   0.73164536
Hébert_1789-1790_Almanach parisien                               -0.75076635
Linguet_1783_Mémoires sur la Bastille                            -0.83536668
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon -1.65970227
Mercier_1771_L'an 2440                                            1.56332660
Mercier_1782-1788_Tableau Paris - 2e ed t 2                       0.97378722
PseudoBrissot_1789_Plan de Municipalité                          -0.19497975
                                                                         que
Brissot_1780_Recherches philosophiques sur le droit de propriété  0.52949964
Goudar_1757_L'histoire des Grecs                                 -0.15477319
Goudar_1757_La paix de l'Europe                                   1.04114511
Hébert_1789-1790_Almanach parisien                               -1.87297759
Linguet_1783_Mémoires sur la Bastille                             0.77268012
Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon  1.06641178
Mercier_1771_L'an 2440                                            0.06563834
Mercier_1782-1788_Tableau Paris - 2e ed t 2                      -0.32552690
PseudoBrissot_1789_Plan de Municipalité                          -1.12209731</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view_tree</span>(test1, <span class="at">k =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sampling" class="level3">
<h3 class="anchored" data-anchor-id="sampling">Sampling</h3>
<section id="normal-sampling" class="level4">
<h4 class="anchored" data-anchor-id="normal-sampling">normal sampling</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>test_norm_sampling <span class="ot">&lt;-</span> <span class="fu">stylo</span>(</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">gui =</span> F,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.dir =</span> <span class="st">"../corpus_test/"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysed.features =</span> <span class="st">"w"</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.min =</span> <span class="dv">200</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.max =</span> <span class="dv">200</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sampling =</span> <span class="st">"normal.sampling"</span>,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">sample.size =</span> <span class="dv">10000</span>,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">distance.measure =</span> <span class="st">"wurzburg"</span>,</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.lang =</span> <span class="st">"Other"</span>,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis.type =</span> <span class="st">"CA"</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>using current directory...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Performing sampling (using sample size = 10000 words)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>slicing input text into tokens...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Brissot_1780_Recherches philosophiques sur le droit de propriété</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 17526</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 7526</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_L'histoire des Grecs</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 58292</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 8292</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_La paix de l'Europe</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 35128</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 5128</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Hébert_1789-1790_Almanach parisien</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 162056</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 16</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 2056</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1783_Mémoires sur la Bastille</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 42491</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 4</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 2491</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 63025</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 6</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 3025</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1771_L'an 2440</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 91505</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 9</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 1505</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1782-1788_Tableau Paris - 2e ed t 2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 52939</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 2939</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>PseudoBrissot_1789_Plan de Municipalité</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 12681</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of samples: 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of words dropped at the end of the text: 2681</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
turning words into features, e.g. char n-grams (if applicable)...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Total nr. of samples in the corpus: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The corpus consists of 500000 tokens</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>processing  50  text samples</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>.....
combining frequencies into a table...


culling @ 0 available features (words) 5000
Calculating z-scores... 

MFW used: 
200 
Processing metadata...


Assigning plot colors according to file names...

 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view_tree</span>(test_norm_sampling, <span class="at">k =</span> <span class="dv">2</span>, <span class="at">label_size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-22-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="random-sampling" class="level4">
<h4 class="anchored" data-anchor-id="random-sampling">random sampling</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>test_random_sampling <span class="ot">&lt;-</span> <span class="fu">stylo</span>(</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">gui =</span> F,</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.dir =</span> <span class="st">"../corpus_test/"</span>,</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysed.features =</span> <span class="st">"w"</span>,</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.min =</span> <span class="dv">100</span>,</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.max =</span> <span class="dv">100</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sampling =</span> <span class="st">"random.sampling"</span>,</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">sample.size =</span> <span class="dv">3000</span>,</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">number.of.samples =</span> <span class="dv">3</span>,</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">distance.measure =</span> <span class="st">"wurzburg"</span>,</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.lang =</span> <span class="st">"Other"</span>,</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis.type =</span> <span class="st">"CA"</span></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>using current directory...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Performing random sampling (using random sample size =  words)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>slicing input text into tokens...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
turning words into features, e.g. char n-grams (if applicable)...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Brissot_1780_Recherches philosophiques sur le droit de propriété</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 17526</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_L'histoire des Grecs</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 58292</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_La paix de l'Europe</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 35128</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Hébert_1789-1790_Almanach parisien</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 162056</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1783_Mémoires sur la Bastille</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 42491</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 63025</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1771_L'an 2440</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 91505</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1782-1788_Tableau Paris - 2e ed t 2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 52939</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>PseudoBrissot_1789_Plan de Municipalité</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 12681</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Total nr. of samples in the corpus: 27</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The corpus consists of 81000 tokens</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>processing  27  text samples</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>..
combining frequencies into a table...


culling @ 0 available features (words) 5000
Calculating z-scores... 

MFW used: 
100 
Processing metadata...


Assigning plot colors according to file names...

 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view_tree</span>(test_random_sampling, <span class="at">k =</span> <span class="dv">2</span>, <span class="at">label_size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-24-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>MDS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>test_random_sampling <span class="ot">&lt;-</span> <span class="fu">stylo</span>(</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">gui =</span> F,</span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.dir =</span> <span class="st">"../corpus_test/"</span>,</span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysed.features =</span> <span class="st">"w"</span>,</span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.min =</span> <span class="dv">100</span>,</span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mfw.max =</span> <span class="dv">100</span>,</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sampling =</span> <span class="st">"random.sampling"</span>,</span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">sample.size =</span> <span class="dv">3000</span>,</span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">number.of.samples =</span> <span class="dv">50</span>,</span>
<span id="cb170-10"><a href="#cb170-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">distance.measure =</span> <span class="st">"wurzburg"</span>,</span>
<span id="cb170-11"><a href="#cb170-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">corpus.lang =</span> <span class="st">"Other"</span>,</span>
<span id="cb170-12"><a href="#cb170-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb170-13"><a href="#cb170-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis.type =</span> <span class="st">"MDS"</span>,</span>
<span id="cb170-14"><a href="#cb170-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.id.on.graphs =</span> <span class="st">"points"</span>,</span>
<span id="cb170-15"><a href="#cb170-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">dump.samples =</span> T</span>
<span id="cb170-16"><a href="#cb170-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>using current directory...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Performing random sampling (using random sample size =  words)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>slicing input text into tokens...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
turning words into features, e.g. char n-grams (if applicable)...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Brissot_1780_Recherches philosophiques sur le droit de propriété</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 17526</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_L'histoire des Grecs</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 58292</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Goudar_1757_La paix de l'Europe</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 35128</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Hébert_1789-1790_Almanach parisien</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 162056</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1783_Mémoires sur la Bastille</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 42491</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linguet_1787_Playdoyer pour Linguet dans sa discussion Aiguillon</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 63025</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1771_L'an 2440</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 91505</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Mercier_1782-1788_Tableau Paris - 2e ed t 2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 52939</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>PseudoBrissot_1789_Plan de Municipalité</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - text length (in words): 12681</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - nr. of random samples: 50</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    - sample length: 3000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Total nr. of samples in the corpus: 450</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The corpus consists of 1350000 tokens</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>processing  450  text samples</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>.............................................
combining frequencies into a table...


culling @ 0 available features (words) 5000
Calculating z-scores... 

MFW used: 
100 
Processing metadata...


Assigning plot colors according to file names...

 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="distances-distributions" class="level3">
<h3 class="anchored" data-anchor-id="distances-distributions">Distances distributions</h3>
<section id="mercier-vs-goudar" class="level4">
<h4 class="anchored" data-anchor-id="mercier-vs-goudar">Mercier vs Goudar</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test_random_sampling)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Function call:
stylo(gui = F, corpus.dir = "../corpus_test/", analysed.features = "w",      mfw.min = 100, mfw.max = 100, sampling = "random.sampling",      sample.size = 3000, number.of.samples = 50, distance.measure = "wurzburg",      corpus.lang = "Other", analysis.type = "MDS", text.id.on.graphs = "points",      dump.samples = T) 

Available variables:

           distance.table  final distances between each pair of samples
                 features  features (e.g. words, n-grams, ...) applied to data
   features.actually.used  features (e.g. frequent words) actually analyzed
    frequencies.0.culling  frequencies of words/features accross the corpus
            list.of.edges  edges of a network of stylometric similarities
     table.with.all.freqs  frequencies of words/features accross the corpus
   table.with.all.zscores  z-scored frequencies accross the corpus

These variables can be accessed by typing e.g.:

test_random_sampling$distance.table </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>dists <span class="ot">&lt;-</span> test_random_sampling<span class="sc">$</span>distance.table </span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 450 450</code></pre>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>dists[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                   Brissot_1780_Recherches philosophiques sur le droit de propriété_1
Brissot_1780_Recherches philosophiques sur le droit de propriété_1                                                          0.0000000
Brissot_1780_Recherches philosophiques sur le droit de propriété_2                                                          0.1995675
Brissot_1780_Recherches philosophiques sur le droit de propriété_3                                                          0.2208567
                                                                   Brissot_1780_Recherches philosophiques sur le droit de propriété_2
Brissot_1780_Recherches philosophiques sur le droit de propriété_1                                                          0.1995675
Brissot_1780_Recherches philosophiques sur le droit de propriété_2                                                          0.0000000
Brissot_1780_Recherches philosophiques sur le droit de propriété_3                                                          0.1917561
                                                                   Brissot_1780_Recherches philosophiques sur le droit de propriété_3
Brissot_1780_Recherches philosophiques sur le droit de propriété_1                                                          0.2208567
Brissot_1780_Recherches philosophiques sur le droit de propriété_2                                                          0.1917561
Brissot_1780_Recherches philosophiques sur le droit de propriété_3                                                          0.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "stylo.data" "matrix"    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>merc <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Mercier"</span>, <span class="fu">rownames</span>(dists)) </span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>goud <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Goudar"</span>, <span class="fu">rownames</span>(dists))</span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-4"><a href="#cb226-4" aria-hidden="true" tabindex="-1"></a>d_m <span class="ot">&lt;-</span> dists[merc, merc]</span>
<span id="cb226-5"><a href="#cb226-5" aria-hidden="true" tabindex="-1"></a>d_g <span class="ot">&lt;-</span> dists[goud, goud]</span>
<span id="cb226-6"><a href="#cb226-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-7"><a href="#cb226-7" aria-hidden="true" tabindex="-1"></a>d_other <span class="ot">&lt;-</span> dists[merc, goud]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Matrix flattening</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>d_m[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         Mercier_1771_L'an 2440_1 Mercier_1771_L'an 2440_2
Mercier_1771_L'an 2440_1                0.0000000                0.5121157
Mercier_1771_L'an 2440_2                0.5121157                0.0000000
Mercier_1771_L'an 2440_3                0.5893652                0.5972588
                         Mercier_1771_L'an 2440_3
Mercier_1771_L'an 2440_1                0.5893652
Mercier_1771_L'an 2440_2                0.5972588
Mercier_1771_L'an 2440_3                0.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(d_m[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0000000 0.5121157 0.5893652</code></pre>
</div>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(d_m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(d_g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 100</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>,</span>
<span id="cb235-3"><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dm =</span> <span class="fu">c</span>(d_m),</span>
<span id="cb235-4"><a href="#cb235-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">dg =</span> <span class="fu">c</span>(d_g),</span>
<span id="cb235-5"><a href="#cb235-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">dmg =</span> <span class="fu">c</span>(d_other)) <span class="sc">%&gt;%</span> </span>
<span id="cb235-6"><a href="#cb235-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span>x, <span class="at">names_to =</span> <span class="st">"group"</span>, <span class="at">values_to =</span> <span class="st">"distance"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb235-7"><a href="#cb235-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>x)<span class="co"># %&gt;% </span></span>
<span id="cb235-8"><a href="#cb235-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(group = ifelse(group == "dmg", "others", "same"))</span></span>
<span id="cb235-9"><a href="#cb235-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-10"><a href="#cb235-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  group distance
  &lt;chr&gt;    &lt;dbl&gt;
1 dm       0    
2 dg       0    
3 dmg      1.24 
4 dm       0.512
5 dg       0.507
6 dmg      1.09 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> </span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">group =</span> group, <span class="at">fill =</span> group)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mercier-vs-hébert" class="level4">
<h4 class="anchored" data-anchor-id="mercier-vs-hébert">Mercier vs Hébert</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>merc <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Mercier"</span>, <span class="fu">rownames</span>(dists)) </span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>heb <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^H"</span>, <span class="fu">rownames</span>(dists))</span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a>d_m <span class="ot">&lt;-</span> dists[<span class="fu">sample</span>(merc, <span class="dv">50</span>), <span class="fu">sample</span>(merc, <span class="dv">50</span>)]</span>
<span id="cb239-5"><a href="#cb239-5" aria-hidden="true" tabindex="-1"></a>d_h <span class="ot">&lt;-</span> dists[heb, heb]</span>
<span id="cb239-6"><a href="#cb239-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-7"><a href="#cb239-7" aria-hidden="true" tabindex="-1"></a>dmh <span class="ot">&lt;-</span> dists[<span class="fu">sample</span>(merc, <span class="dv">50</span>), heb]</span>
<span id="cb239-8"><a href="#cb239-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-9"><a href="#cb239-9" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(dmh))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2500</span>,</span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dm =</span> <span class="fu">c</span>(d_m),</span>
<span id="cb241-4"><a href="#cb241-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">dh =</span> <span class="fu">c</span>(d_h),</span>
<span id="cb241-5"><a href="#cb241-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">dmh =</span> <span class="fu">c</span>(dmh)) <span class="sc">%&gt;%</span> </span>
<span id="cb241-6"><a href="#cb241-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span>x, <span class="at">names_to =</span> <span class="st">"group"</span>, <span class="at">values_to =</span> <span class="st">"distance"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb241-7"><a href="#cb241-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>x) <span class="sc">%&gt;%</span> </span>
<span id="cb241-8"><a href="#cb241-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(group = ifelse(group == "dmg", "others", "same"))</span></span>
<span id="cb241-9"><a href="#cb241-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">group =</span> group, <span class="at">fill =</span> group)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="co"># brissot to brissot &amp; pseudobrissot</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>brissot <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Brissot"</span>, <span class="fu">rownames</span>(dists)) </span>
<span id="cb243-3"><a href="#cb243-3" aria-hidden="true" tabindex="-1"></a>psbrissot <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Pseudo"</span>, <span class="fu">rownames</span>(dists))</span>
<span id="cb243-4"><a href="#cb243-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-5"><a href="#cb243-5" aria-hidden="true" tabindex="-1"></a>d_b <span class="ot">&lt;-</span> dists[brissot, brissot]</span>
<span id="cb243-6"><a href="#cb243-6" aria-hidden="true" tabindex="-1"></a>d_p <span class="ot">&lt;-</span> dists[psbrissot, psbrissot]</span>
<span id="cb243-7"><a href="#cb243-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-8"><a href="#cb243-8" aria-hidden="true" tabindex="-1"></a>dbp <span class="ot">&lt;-</span> dists[brissot, psbrissot]</span>
<span id="cb243-9"><a href="#cb243-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-10"><a href="#cb243-10" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(dbp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2500</span>,</span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_brissot =</span> <span class="fu">c</span>(d_b),</span>
<span id="cb245-4"><a href="#cb245-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_psBrissot =</span> <span class="fu">c</span>(d_p),</span>
<span id="cb245-5"><a href="#cb245-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_mixed =</span> <span class="fu">c</span>(dbp)) <span class="sc">%&gt;%</span> </span>
<span id="cb245-6"><a href="#cb245-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span>x, <span class="at">names_to =</span> <span class="st">"group"</span>, <span class="at">values_to =</span> <span class="st">"distance"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb245-7"><a href="#cb245-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>x) <span class="sc">%&gt;%</span> </span>
<span id="cb245-8"><a href="#cb245-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(group = ifelse(group == "dmg", "others", "same"))</span></span>
<span id="cb245-9"><a href="#cb245-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">group =</span> group, <span class="at">fill =</span> group)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># brissot to brissot &amp; pseudobrissot</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a>brissot <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Brissot"</span>, <span class="fu">rownames</span>(dists)) </span>
<span id="cb247-3"><a href="#cb247-3" aria-hidden="true" tabindex="-1"></a>psbrissot <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"^Pseudo"</span>, <span class="fu">rownames</span>(dists))</span>
<span id="cb247-4"><a href="#cb247-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-5"><a href="#cb247-5" aria-hidden="true" tabindex="-1"></a>d_b <span class="ot">&lt;-</span> dists[brissot, brissot]</span>
<span id="cb247-6"><a href="#cb247-6" aria-hidden="true" tabindex="-1"></a>d_p <span class="ot">&lt;-</span> dists[psbrissot, psbrissot]</span>
<span id="cb247-7"><a href="#cb247-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-8"><a href="#cb247-8" aria-hidden="true" tabindex="-1"></a>dbp <span class="ot">&lt;-</span> dists[brissot, psbrissot]</span>
<span id="cb247-9"><a href="#cb247-9" aria-hidden="true" tabindex="-1"></a>dbh <span class="ot">&lt;-</span> dists[brissot, heb]</span>
<span id="cb247-10"><a href="#cb247-10" aria-hidden="true" tabindex="-1"></a>dbp <span class="ot">&lt;-</span> dists[heb, psbrissot]</span>
<span id="cb247-11"><a href="#cb247-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-12"><a href="#cb247-12" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(dbh))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2500</span>,</span>
<span id="cb249-3"><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_brissot =</span> <span class="fu">c</span>(d_b),</span>
<span id="cb249-4"><a href="#cb249-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_psBrissot =</span> <span class="fu">c</span>(d_p),</span>
<span id="cb249-5"><a href="#cb249-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_hebert =</span> <span class="fu">c</span>(d_h),</span>
<span id="cb249-6"><a href="#cb249-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_Brissot_to_Hebert =</span> <span class="fu">c</span>(dbh) ,</span>
<span id="cb249-7"><a href="#cb249-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_Brissot_PseudoBrissot =</span> <span class="fu">c</span>(dbp) ,</span>
<span id="cb249-8"><a href="#cb249-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">dist_Pseudobrissot_to_Hebert =</span> <span class="fu">c</span>(dbp)</span>
<span id="cb249-9"><a href="#cb249-9" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">%&gt;%</span> </span>
<span id="cb249-10"><a href="#cb249-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span>x, <span class="at">names_to =</span> <span class="st">"group"</span>, <span class="at">values_to =</span> <span class="st">"distance"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb249-11"><a href="#cb249-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>x) <span class="sc">%&gt;%</span> </span>
<span id="cb249-12"><a href="#cb249-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(group = ifelse(group == "dmg", "others", "same"))</span></span>
<span id="cb249-13"><a href="#cb249-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">group =</span> group, <span class="at">fill =</span> group), <span class="at">aplha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb249-14"><a href="#cb249-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_corpus_compilation_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>